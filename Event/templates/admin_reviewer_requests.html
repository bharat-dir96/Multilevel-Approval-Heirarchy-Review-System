{% extends 'base.html' %}
{% block title %}
    Reviewer Requests
{% endblock %}

{% block content %}
    <div class="position-relative overflow-hidden p-3 p-md-5 m-md-3" style="background-color:rgb(16, 98, 112); color:white">
        <div class="my-5" style="overflow-x: auto; max-height: 500px;">
            <h1 class="mb-4 font-weight-normal">Admin Reviewers Requests</h1>

            {% if reviewer_requests %}
                <table class="table table-striped table-borderless table-hover">
                    <thead class="thead-dark">
                        <tr>
                            <th>S.No.</th>
                            <th>Full Name</th>
                            <th>Birth Year</th>
                            <th>Email Address</th>
                            <th>Professional URLs</th>
                            <th>Recent Education</th>
                            <th>Duration</th>
                            <th>Institute Name</th>
                            <th>Department</th>
                            <th>Current Position</th>
                            <th>Current Company</th>
                            <th>Current Duration</th>
                            <th>Area of Interests</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for reviewer_request in reviewer_requests %}
                            <tr class="table-info">
                                <td>{{ loop.index }}.</td>
                                <td>{{ reviewer_request.full_name }}</td>
                                <td>{{ reviewer_request.year_of_birth }}</td>
                                <td>{{ reviewer_request.email_address }}</td>
                                <td>
                                    {% if reviewer_request.homepage_url %}
                                        <a href="{{ reviewer_request.homepage_url }}" target="_blank">{{ reviewer_request.homepage_url }}</a> <br><br>
                                    {% endif %}
                                    {% if reviewer_request.google_scholar_url %}
                                        <a href="{{ reviewer_request.google_scholar_url }}" target="_blank">{{ reviewer_request.google_scholar_url }}</a> <br><br>
                                    {% endif %}
                                    {% if reviewer_request.orcid_url %}
                                        <a href="{{ reviewer_request.orcid_url }}" target="_blank">{{ reviewer_request.orcid_url }}</a>
                                    {% endif %}
                                </td>
                                
                                <td>{{ reviewer_request.education_position }}</td>
                                <td>{{ reviewer_request.education_start_year }} - {{ reviewer_request.education_end_year}}</td>
                                <td>{{ reviewer_request.inst_name }}</td>
                                <td>{{ reviewer_request.inst_department }}</td>
                                <td>{{ reviewer_request.current_position }}</td>
                                <td>{{ reviewer_request.current_company }}</td>
                                <td>{{ reviewer_request.current_start_year }} - {{ reviewer_request.current_end_year}}</td>
                                <td>{{ reviewer_request.area_of_interest }}</td>
                                <td>
                                    <a class="btn btn-success mb-1" href="{{ url_for('approve_reviewer_request', request_id=reviewer_request.id)}}">Approve</a>
                                    <a class="btn btn-danger" href="{{ url_for('reject_reviewer_request', request_id=reviewer_request.id)}}">Reject</a>
                                </td>
                            </tr>
                            {% endfor %}
                    </tbody>
                </table>
            {% else %}
                <p>No pending event requests.</p>
            {% endif %}

        </div>
        <div class="product-device box-shadow d-none d-md-block"></div>
        <div class="product-device product-device-2 box-shadow d-none d-md-block"></div>
    </div>
{% endblock %}